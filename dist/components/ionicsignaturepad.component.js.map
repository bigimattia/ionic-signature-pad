{"version":3,"file":"ionicsignaturepad.component.js","sourceRoot":"","sources":["../../src/components/ionicsignaturepad.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAC,KAAK,EAAS,SAAS,EAAE,MAAM,eAAe,CAAC;AAClE,OAAO,EAAwB,iBAAiB,EAAE,MAAM,gBAAgB,CAAC;AACzE,OAAO,EAAC,YAAY,EAAC,MAAM,qCAAqC,CAAC;AAEjE,IAAM,aAAa,GAAG,siBAM0H,CAAC;AAEjJ;IAgBC;QAHO,wBAAmB,GAAS,EAAE,CAAC;QAe9B,YAAO,GAAa,cAAO,CAAC,CAAC;QAC7B,aAAQ,GAAY,KAAK,CAAC;QAZjC,IAAI,CAAC,mBAAmB,GAAG;YAC1B,QAAQ,EAAE,CAAC;YACX,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;YACjB,eAAe,EAAC,kBAAkB;SAClC,CAAA;IACF,CAAC;IAED,6CAAQ,GAAR;IACA,CAAC;IAKD,6CAAQ,GAAR,UAAS,IAAI;IAEb,CAAC;IAED,sBAAa,mDAAW;aAAxB,UAAyB,IAAY;YACpC,IAAI,CAAC,mBAAmB,CAAC,WAAW,GAAG,IAAI,CAAC;QAC7C,CAAC;;;OAAA;IAED,sBAAa,oDAAY;aAAzB,UAA0B,IAAY;YACrC,IAAI,CAAC,mBAAmB,CAAC,YAAY,GAAG,IAAI,CAAC;QAC9C,CAAC;;;OAAA;IAED,sBAAa,uDAAe;aAA5B,UAA6B,IAAY;YACxC,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC;QACjD,CAAC;;;OAAA;IAED,kDAAkD;IAClD,+CAAU,GAAV,UAAW,KAAK;QACf,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;IAErB,CAAC;IAED,2DAA2D;IAC3D,2BAA2B;IAC3B,qDAAgB,GAAhB,UAAiB,EAAE;QAClB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IAEpB,CAAC;IAED,4DAA4D;IAC5D,2BAA2B;IAC3B,sDAAiB,GAAjB,UAAkB,EAAE;QACnB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IAEnB,CAAC;IAED,uDAAuD;IACvD,qDAAgB,GAAhB,UAAiB,QAAiB;QACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAE1B,CAAC;IAED,iDAAY,GAAZ;QACC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;IAED,oDAAe,GAAf;QACC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;IACrB,CAAC;IAED,8CAAS,GAAT;IAEA,CAAC;IAED,iDAAY,GAAZ;QACC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACtC,CAAC;IAED,8CAAS,GAAT;QACC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACtC,CAAC;;gBAhGD,SAAS,SAAC;oBACV,QAAQ,EAAE,kBAAkB;oBAC5B,QAAQ,EAAE,aAAa;oBACvB,SAAS,EAAE,CAAC;4BACX,OAAO,EAAE,iBAAiB;4BAC1B,WAAW,EAAE,0BAA0B;4BACvC,KAAK,EAAE,IAAI;yBACX,CAAC;iBACF;;;;;+BAGC,SAAS,SAAC,YAAY;8BAwBtB,KAAK;+BAIL,KAAK;kCAIL,KAAK;;IAsDP,iCAAC;CAAA,AAjGD,IAiGC;SAxFY,0BAA0B","sourcesContent":["import { Component,Input, OnInit,ViewChild } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport {SignaturePad} from 'angular2-signaturepad/signature-pad';\r\n\r\nconst HTML_TEMPLATE = `\r\n<ion-row>\r\n<ion-col style=\"text-align:right;\" class=\"no-padding\">\r\n<ion-button fill=\"clear\" (click)=\"drawClear()\" style=\"--padding-top: 0; --padding-bottom: 0; --padding-start: 0; --padding-end: 0; --margin-top: 4px; --margin-bottom: 0; --margin-start: 0; --margin-end: 8px;\"><ion-icon slot=\"icon-only\" name=\"close\" color=\"dark\"></ion-icon></ion-button>\r\n</ion-col>\r\n</ion-row>\r\n<signature-pad [options]=\"signaturePadOptions\" id=\"signatureCanvas\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"></signature-pad>`;\r\n\r\n@Component({\r\n\tselector: 'ion-signaturepad',\r\n\ttemplate: HTML_TEMPLATE,\r\n\tproviders: [{\r\n\t\tprovide: NG_VALUE_ACCESSOR,\r\n\t\tuseExisting: IonicsignaturepadComponent,\r\n\t\tmulti: true\r\n\t}]\r\n})\r\nexport class IonicsignaturepadComponent implements OnInit,ControlValueAccessor {\r\n\r\n\t@ViewChild(SignaturePad) public signaturePad : SignaturePad;\r\n\r\n\tpublic signaturePadOptions : any = {};\r\n\tpublic signatureImage : string;\r\n\r\n\tconstructor() {\r\n\t\tthis.signaturePadOptions = {\r\n\t\t\tminWidth: 2,\r\n\t\t\tcanvasWidth: 800,\r\n\t\t\tcanvasHeight: 240,\r\n\t\t\tbackgroundColor:'rgb(255,255,255)'\r\n\t\t}\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t}\r\n\r\n\tprivate onTouch: Function = () => {};\r\n\tprivate disabled: boolean = false;\r\n\r\n\tonChange(data) {\r\n\t\t\r\n\t}\r\n\r\n\t@Input() set canvasWidth(data: number) {\r\n\t\tthis.signaturePadOptions.canvasWidth = data;\r\n\t}\r\n\r\n\t@Input() set canvasHeight(data: number) {\r\n\t\tthis.signaturePadOptions.canvasHeight = data;\r\n\t}\r\n\r\n\t@Input() set backgroundColor(data: string) {\r\n\t\tthis.signaturePadOptions.backgroundColor = data;\r\n\t}\r\n\r\n\t// Allow Angular to set the value on the component\r\n\twriteValue(value): void {\r\n\t\tthis.onChange(value)\r\n\t\t\r\n\t}\r\n\r\n\t// Save a reference to the change function passed to us by \r\n\t// the Angular form control\r\n\tregisterOnChange(fn): void {\r\n\t\tthis.onChange = fn;\r\n\t\t\r\n\t}\r\n\r\n\t// Save a reference to the touched function passed to us by \r\n\t// the Angular form control\r\n\tregisterOnTouched(fn): void {\r\n\t\tthis.onTouch = fn;\r\n\t\t\r\n\t}\r\n\r\n\t// Allow the Angular form control to disable this input\r\n\tsetDisabledState(disabled: boolean): void {\r\n\t\tthis.disabled = disabled;\r\n\t\t\r\n\t}\r\n\r\n\tcanvasResize() {\r\n\t\tlet canvas = document.querySelector('canvas');\r\n\t\tthis.signaturePad.set('minWidth', 1);\r\n\t}\r\n\r\n\tngAfterViewInit() {\r\n\t\tthis.signaturePad.clear();\r\n\t\tthis.canvasResize();\r\n\t}\r\n\r\n\tdrawStart(){\r\n\r\n\t}\r\n\r\n\tdrawComplete() {\r\n\t\tthis.signatureImage = this.signaturePad.toDataURL('image/jpeg', 0.5);\r\n\t\tthis.writeValue(this.signatureImage);\r\n\t}\r\n\r\n\tdrawClear() {\r\n\t\tthis.signaturePad.clear();\r\n\t\tthis.signatureImage = null;\r\n\t\tthis.writeValue(this.signatureImage);\r\n\t}\r\n}\r\n"]}